# Change: 添加 Docker 容器用户权限一致性解决方案文档

## Why

在当前的 Docker Compose 部署文档中，缺少关于容器内外用户权限映射问题的说明和解决方案。

实际使用过程中存在以下问题：

1. **用户 ID 映射不匹配**：Docker 容器内的用户 ID 是通过 Hash Code 生成的，与宿主机的用户 ID 可能不一致
2. **文件权限冲突**：当使用 root 用户在宿主机创建目录并挂载到容器时，容器内的非 root 用户可能无法读写这些文件
3. **权限不一致导致的问题**：
   - 容器内应用无法修改挂载目录中的文件
   - 容器内创建的文件在宿主机上显示为不同所有者
   - 影响正常的文件读写操作和开发体验

用户在遇到权限问题时缺乏明确的指导和解决方案，导致：
- 无法正常使用 Hagicode 进行代码读写操作
- 需要花费时间排查权限相关问题
- 可能采用不安全的解决方案（如直接使用 777 权限）

## What Changes

- 在 `docs/installation/docker-compose.md` 中添加"用户权限管理"章节
- 提供两种解决方案的详细说明：
  - **方案一：用户 ID 映射配置**（推荐）
  - **方案二：权限设置**（快速但不够安全）
- 添加权限问题的故障排除指南
- 在 docker-compose.yml 示例中添加 `PUID` 和 `PGID` 环境变量配置说明

## UI Design Changes

不涉及 UI 变更。本文档变更仅影响文档内容。

## Code Flow Changes

不涉及代码流程变更。本文档变更仅增加文档说明。

## Impact

### 影响的规格

- `docusaurus-site` - 添加 Docker 容器用户权限一致性文档需求

### 影响的文件/目录

- 修改：`docs/installation/docker-compose.md` - 添加用户权限管理章节

### 预期成果

- 用户能够理解容器内外用户权限映射的问题根源
- 用户可以根据实际情况选择合适的权限解决方案
- 减少因权限问题导致的使用障碍
- 提升 Docker Compose 部署文档的完整性和实用性

### 目标用户场景

- **场景一**：用户使用 root 账号在宿主机操作，需要配置用户 ID 映射
- **场景二**：用户需要快速解决权限问题，可以使用权限设置方案
- **场景三**：用户遇到权限相关错误，可以查阅故障排除章节找到解决方案

## Status

ExecutionCompleted
