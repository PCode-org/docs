# 统一 Desktop 页面与首页设计风格

**状态**: 已完成
**创建时间**: 2025-02-08
**完成时间**: 2026-02-08
**提案 ID**: `desktop-homepage-design-alignment`
**影响范围**: Desktop 页面、首页样式系统、主题系统

---

## 概述

将 Desktop 页面 (`src/pages/desktop/index.astro`) 的视觉设计与首页 (`src/pages/index.astro`) 对齐，采用统一的科技感设计风格（HUD/Sci-Fi FUI + Glassmorphism），并添加完整的农历新年主题支持。

## 背景

### 现状
- **首页**：拥有完整的设计系统，定义在 `src/styles/homepage.css` 中，包括：
  - 统一的 CSS 变量（`--color-primary`、`--gradient-primary`、`--shadow-glow` 等）
  - 三主题支持：亮色、暗色、农历新年
  - 科技感装饰元素（扫描线、发光边框、网格背景）
  - Framer Motion 动画效果

- **Desktop 页面**：
  - 使用独立的内联样式（约 350 行 `<style>` 代码）
  - 仅支持亮色和暗色主题，缺少农历新年主题
  - 样式变量硬编码，未使用首页的 CSS 变量系统
  - 未引入首页的 React 组件（Navbar、Footer）

### 问题
1. **设计不一致**：Desktop 页面缺乏首页的视觉一致性，未采用科技感设计语言
2. **主题支持不完整**：缺少农历新年主题，未使用统一主题变量
3. **组件复用缺失**：未使用首页的 Navbar 和 Footer 组件
4. **代码重复**：内联定义了大量样式，应抽取到样式文件

## 目标

### 核心目标
1. 让 Desktop 页面使用首页的样式系统（`homepage.css`）
2. 添加农历新年主题支持
3. 引入首页的 Navbar 和 Footer 组件
4. 应用首页的布局结构和科技感装饰元素

### 非目标
- 修改首页的设计系统
- 改变 Desktop 页面的内容结构
- 创建新的通用组件库（仅复用现有组件）

## 影响分析

### 用户体验影响
- **正面**：站点视觉一致性增强，用户在不同页面间切换体验更流畅
- **正面**：Desktop 页面获得与首页相同的科技感视觉冲击力
- **正面**：农历新年期间提供节日氛围的视觉体验

### 技术影响
- **正面**：统一的样式系统降低维护成本
- **正面**：组件复用减少代码重复
- **正面**：清晰的架构便于未来添加新的独立页面

### 风险
- **低风险**：样式迁移可能影响 Desktop 页面的现有样式
- **缓解措施**：分阶段实施，每阶段进行视觉回归测试

## 实施计划

### 阶段 1：样式系统对齐
1. 在 Desktop 页面导入 `homepage.css`
2. 替换所有硬编码颜色为 CSS 变量
3. 应用首页的渐变和发光效果

### 阶段 2：主题系统完整支持
1. 添加农历新年主题支持
2. 复用首页的主题初始化脚本
3. 确保 Desktop 页面响应主题切换事件

### 阶段 3：组件复用与布局统一
1. 引入首页的 Navbar 和 Footer 组件
2. 使用首页的布局结构
3. 复用科技感装饰元素

### 阶段 4：动画与交互增强
1. 为关键元素添加 Framer Motion 动画
2. 添加滚动视差效果和悬浮动画
3. 确保动画在农历新年主题下的金色光晕效果

### 阶段 5：代码优化
1. 将内联样式迁移到独立的 CSS 模块
2. 确保 TypeScript 类型定义完整

## 成功标准

### 必须满足
- [x] Desktop 页面使用 `homepage.css` 的所有 CSS 变量
- [x] Desktop 页面支持所有三种主题（亮色、暗色、农历新年）
- [x] Desktop 页面使用首页的 Navbar 和 Footer 组件
- [x] Desktop 页面使用首页的布局结构（`main.homepage` 容器）
- [x] 所有样式不再使用硬编码颜色值

### 应该满足
- [x] Desktop 页面关键元素具有 CSS 动画（使用 CSS keyframes 替代 Framer Motion 以简化实现）
- [x] Desktop 页面具有科技感装饰元素（发光边框、网格背景等）
- [x] 内联样式减少到最低限度（仅保留 11 行 CSS 变量映射）

### 可以满足
- [ ] 创建可复用的页面模板模式
- [ ] 添加视觉回归测试

## 后续工作

- 评估是否需要创建通用的页面模板系统
- 考虑将其他独立页面（如博客列表页）也迁移到统一设计系统

## 参考文档

- 首页样式系统: `src/styles/homepage.css`
- 首页组件: `src/components/home/`
- Desktop 页面: `src/pages/desktop/index.astro`
- 主题切换逻辑: `src/components/home/ThemeToggle.tsx`
